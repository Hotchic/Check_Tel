<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="MainDAO"> <!--namespace로 구분  -->

	<resultMap id="mainResult" type="main"> <!--type에는 클래스 명  -->
		<id property="spotNo" column="SPOT_NO" /> <!--필드명(BoardVO 필드), 컬럼명  -->
		<id property="day" column="DAY" />
		<id property="dayNo" column="DAY_NO" />
		<!-- <id property="planNo" column="PLAN_NO" /> -->
		<id property="categoryId" column="CATEGORY_ID" />
		<result property="furl" column="FURL" />
		<result property="lat" column="LAT" />
		<result property="lng" column="LNG" />
		<result property="cityName" column="CITY_NAME" />
	</resultMap>
   
   <insert id="insertMain" parameterType="main">
      <!-- <selectKey keyProperty="spotNo" resultType="int" order="BEFORE">
      SELECT NVL(MAX(SPOT_NO), 0) + 1 FROM DETAIL
      </selectKey> -->
      <!-- CDATA 태그인식을 막는 명령어 -->
        INSERT INTO DETAIL(
                      SPOT_NO
                    , DAY
                    , DAY_NO
                    <!-- , PLAN_NO -->
                    , CATEGORY_ID
                    , LAT
                    , LNG
                    , FURL
                    , CITY_NAME)
        VALUES(
             #{spotNo}
           , #{day} 
           , #{dayNo}
          <!--  , #{planNo} -->
           , #{categoryId}
           , #{lat}
           , #{lng}
           , #{furl}
           , #{cityName})
   </insert>
</mapper>
