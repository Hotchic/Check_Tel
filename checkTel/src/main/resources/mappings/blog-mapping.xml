<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="brother.heyflight.checktel.blog.BlogMapper">

	<!-- <insert id="insertUser" parameterType="blog">
        <![CDATA[  
        INSERT INTO USERS(ID, PASSWORD, NAME, ROLE) 
        VALUES(#{id}, #{password}, #{name}, 'user')
        ]]>
	</insert> -->

	<update id="updateBlog">
        <![CDATA[
        UPDATE BLOG SET
            member_nick = #{memberNick}, 
            member_pw = #{memberPw} 
        WHERE blog_no = #{blogNo}
        ]]>
	</update>

	<delete id="deleteBlog">
        <![CDATA[
        DELETE BLOG
        WHERE blog_no = #{blogNo}
        ]]>
	</delete>

	<select id="getBlog" resultType="blog">
        <![CDATA[
        SELECT * 
        FROM BLOG
        WHERE blog_no = #{blogNo}
        ]]>
	</select>

	<select id="getBlogList" resultType="map">
		SELECT blog_no, blog_title, member_nick, blog_hit, blog_date, review_count
		FROM BLOG
		ORDER BY blog_no ASC
	</select>
	
	<resultMap type="blog" id="blogMap">
		<id property="blogNo" column="blog_no" />
		<result property="blogTitle" column="blog_title"/>
		<result property="memberNick" column="blog_title"/>
		<result property="memberPw" column="member_pw"/>
		<result property="blogHit" column="blog_hit"/>
		<result property="blogDate" column="blog_date"/>  
		<result property="reviewCount" column="review_count"/>  
		
	</resultMap>
	<select id="getBlogListVO" resultMap="blogMap">
		SELECT blog_no, blog_title, member_nick, blog_hit, blog_date, review_count
		FROM BLOG
		ORDER BY blog_no ASC
	</select>

</mapper>
